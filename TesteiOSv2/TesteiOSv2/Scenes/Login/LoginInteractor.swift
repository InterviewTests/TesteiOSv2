//
//  LoginInteractor.swift
//  TesteiOSv2
//
//  Created by Gilson Gil on 15/02/19.
//  Copyright (c) 2019 Gilson Gil. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

protocol LoginBusinessLogic {
  func submitLogin(request: Login.SubmitLogin.Request)
}

protocol LoginDataStore {
  //var name: String { get set }
}

final class LoginInteractor: LoginBusinessLogic, LoginDataStore {
  var presenter: LoginPresentationLogic?
  var worker: LoginWorker?

  // MARK: Submit Login

  func submitLogin(request: Login.SubmitLogin.Request) {
    worker = LoginWorker()
    do {
      try worker?.validateUser(fields: request.fields)

//      let response = Login.SubmitLogin.Response()
//      presenter?.presentSomething(response: response)
    } catch {
      let response = Login.SubmitLogin.Response(error: error as? LoginError)
      presenter?.presentError(response: response)
    }
  }
}
